import{r as ze,w as Re,a as be,b as He,c as C,o as O,d as R,e as E,n as ue,t as ge,f as he,g as fe,P as Ae,h as pe,i as Le}from"./vendor.01879e04.js";const Ce=function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const h of n)if(h.type==="childList")for(const S of h.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&e(S)}).observe(document,{childList:!0,subtree:!0});function u(n){const h={};return n.integrity&&(h.integrity=n.integrity),n.referrerpolicy&&(h.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?h.credentials="include":n.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function e(n){if(n.ep)return;n.ep=!0;const h=u(n);fetch(n.href,h)}};Ce();var Z=(w,g)=>{const u=w.__vccOpts||w;for(const[e,n]of g)u[e]=n;return u};const Te={props:{moduleName:String,centerName:Boolean},setup(w){const g=ze(!0);function u(){let e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,n=localStorage.getItem("color-theme");return n===null?e:n==="dark"}return g.value=u(),g.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),Re(()=>g.value,(e,n)=>{localStorage.setItem("color-theme",e?"dark":"light"),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},{lazy:!1}),{darkMode:g}},components:{SunIcon:be,MoonIcon:He}},Be={class:"p-2 flex items-baseline justify-between bg-neutral-50 dark:bg-neutral-900 border-b border-gray-200 dark:border-gray-700",style:{"font-family":"Red Hat Text",position:"relative"}},Me={class:"flex flex-row items-baseline basis-10"},We=["src"],Ne={class:"text-2xl"},xe=E("span",{class:"text-gray-800 dark:text-red-600"},"Drives",-1),je={key:0,class:"ml-5 text-red-800 dark:text-white text-2xl"};function Pe(w,g,u,e,n,h){const S=C("SunIcon"),k=C("MoonIcon");return O(),R("div",Be,[E("div",Me,[E("img",{class:"w-6 h-6 text-gray-50 mr-0.5 self-center",src:e.darkMode?"img/45d-fan-dark.svg":"img/45d-fan-light.svg"},null,8,We),E("h1",Ne,[E("span",{class:"text-red-800 dark:text-white font-bold",style:ue({"font-family":"Source Sans Pro","font-size":"1.6rem"})},"45",4),xe]),u.centerName?he("",!0):(O(),R("h1",je,ge(u.moduleName),1))]),u.centerName?(O(),R("h1",{key:0,class:"text-red-800 dark:text-white text-2xl",style:ue({position:"absolute",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)"})},ge(u.moduleName),5)):he("",!0),E("button",{onClick:g[0]||(g[0]=b=>e.darkMode=!e.darkMode),id:"theme-toggle",type:"button",class:"text-gray-500 dark:text-gray-400 hover:bg-neutral-200 dark:hover:bg-neutral-700 focus:outline-none rounded-lg text-sm p-2.5 justify-self-end w-10 h-10 basis-10"},[e.darkMode?(O(),fe(S,{key:0})):(O(),fe(k,{key:1}))])])}var Fe=Z(Te,[["render",Pe]]);const Ue={name:"P5Canvas",mounted(){var w=function(e){let n,h,S,k,b,T,ee,B,M,W,N,x,j,P,F,U,X,V,Y,se,$,G,J,te,q,t,D,d,f,v=[],p=[],o=[],ie=0,le=0,oe=0,ne=0,ae=!1,re=!1,_e=0,H=!1,z=!1,Q="",A=["ROW_HDD","ROW_SSD","ROW_H16","ROW_C8","ROW_MI4","ROW_2U_STORNADO"],_={H16:{Q30:[2,0],S45:[2,0,0],XL60:[2,0,0,0]},H32:{Q30:[1,0],S45:[1,0,0],XL60:[1,0,0,0]},STORINATOR:{AV15:[0],Q30:[0,0],S45:[0,0,0],XL60:[0,0,0,0],C8:[3],MI4:[4]},STORNADO:{AV15:[1],F32:[1]},"2USTORNADO":{"2U":[5]},"AV15-BASE":{AV15:[0]}},ve={H16:{Q30:[["2-23","2-22","2-21","2-20","2-19","2-18","2-17","2-16","2-15","2-14","2-13","2-12","2-11","2-10","2-9","2-8","2-7","2-6","2-5","2-4","2-3","2-2","2-1"],["1-15","1-14","1-13","1-12","1-11","1-10","1-9","1-8","1-7","1-6","1-5","1-4","1-3","1-2","1-1"]],S45:[["3-23","3-22","3-21","3-20","3-19","3-18","3-17","3-16","3-15","3-14","3-13","3-12","3-11","3-10","3-9","3-8","3-7","3-6","3-5","3-4","3-3","3-2","3-1"],["2-15","2-14","2-13","2-12","2-11","2-10","2-9","2-8","2-7","2-6","2-5","2-4","2-3","2-2","2-1"],["1-15","1-14","1-13","1-12","1-11","1-10","1-9","1-8","1-7","1-6","1-5","1-4","1-3","1-2","1-1"]],XL60:[["4-23","4-22","4-21","4-20","4-19","4-18","4-17","4-16","4-15","4-14","4-13","4-12","4-11","4-10","4-9","4-8","4-7","4-6","4-5","4-4","4-3","4-2","4-1"],["3-15","3-14","3-13","3-12","3-11","3-10","3-9","3-8","3-7","3-6","3-5","3-4","3-3","3-2","3-1"],["2-15","2-14","2-13","2-12","2-11","2-10","2-9","2-8","2-7","2-6","2-5","2-4","2-3","2-2","2-1"],["1-15","1-14","1-13","1-12","1-11","1-10","1-9","1-8","1-7","1-6","1-5","1-4","1-3","1-2","1-1"]]},H32:{Q30:[["2-24","2-23","2-22","2-21","2-20","2-19","2-18","2-17","2-16","2-15","2-14","2-13","2-12","2-11","2-10","2-9","2-8","2-7","2-6","2-5","2-4","2-3","2-2","2-1","1-23","1-22","1-21","1-20","1-19","1-18","1-17","1-16"],["1-15","1-14","1-13","1-12","1-11","1-10","1-9","1-8","1-7","1-6","1-5","1-4","1-3","1-2","1-1"]],S45:[["3-24","3-23","3-22","3-21","3-20","3-19","3-18","3-17","3-16","3-15","3-14","3-13","3-12","3-11","3-10","3-9","3-8","3-7","3-6","3-5","3-4","3-3","3-2","3-1","2-23","2-22","2-21","2-20","2-19","2-18","2-17","2-16"],["2-15","2-14","2-13","2-12","2-11","2-10","2-9","2-8","2-7","2-6","2-5","2-4","2-3","2-2","2-1"],["1-15","1-14","1-13","1-12","1-11","1-10","1-9","1-8","1-7","1-6","1-5","1-4","1-3","1-2","1-1"]],XL60:[["4-24","4-23","4-22","4-21","4-20","4-19","4-18","4-17","4-16","4-15","4-14","4-13","4-12","4-11","4-10","4-9","4-8","4-7","4-6","4-5","4-4","4-3","4-2","4-1","3-23","3-22","3-21","3-20","3-19","3-18","3-17","3-16"],["3-15","3-14","3-13","3-12","3-11","3-10","3-9","3-8","3-7","3-6","3-5","3-4","3-3","3-2","3-1"],["2-15","2-14","2-13","2-12","2-11","2-10","2-9","2-8","2-7","2-6","2-5","2-4","2-3","2-2","2-1"],["1-15","1-14","1-13","1-12","1-11","1-10","1-9","1-8","1-7","1-6","1-5","1-4","1-3","1-2","1-1"]]},STORINATOR:{AV15:[["1-15","1-14","1-13","1-12","1-11","1-10","1-9","1-8","1-7","1-6","1-5","1-4","1-3","1-2","1-1"]],Q30:[["2-15","2-14","2-13","2-12","2-11","2-10","2-9","2-8","2-7","2-6","2-5","2-4","2-3","2-2","2-1"],["1-15","1-14","1-13","1-12","1-11","1-10","1-9","1-8","1-7","1-6","1-5","1-4","1-3","1-2","1-1"]],S45:[["3-15","3-14","3-13","3-12","3-11","3-10","3-9","3-8","3-7","3-6","3-5","3-4","3-3","3-2","3-1"],["2-15","2-14","2-13","2-12","2-11","2-10","2-9","2-8","2-7","2-6","2-5","2-4","2-3","2-2","2-1"],["1-15","1-14","1-13","1-12","1-11","1-10","1-9","1-8","1-7","1-6","1-5","1-4","1-3","1-2","1-1"]],XL60:[["4-15","4-14","4-13","4-12","4-11","4-10","4-9","4-8","4-7","4-6","4-5","4-4","4-3","4-2","4-1"],["3-15","3-14","3-13","3-12","3-11","3-10","3-9","3-8","3-7","3-6","3-5","3-4","3-3","3-2","3-1"],["2-15","2-14","2-13","2-12","2-11","2-10","2-9","2-8","2-7","2-6","2-5","2-4","2-3","2-2","2-1"],["1-15","1-14","1-13","1-12","1-11","1-10","1-9","1-8","1-7","1-6","1-5","1-4","1-3","1-2","1-1"]],C8:[["1-1","1-2","1-3","1-4","2-1","2-2","2-3","2-4"]],MI4:[["1-1","1-2","1-3","1-4"]]},STORNADO:{AV15:[["2-16","2-15","2-14","2-13","2-12","2-11","2-10","2-9","2-8","2-7","2-6","2-5","2-4","2-3","2-2","2-1","1-16","1-15","1-14","1-13","1-12","1-11","1-10","1-9","1-8","1-7","1-6","1-5","1-4","1-3","1-2","1-1"]],F32:[["2-16","2-15","2-14","2-13","2-12","2-11","2-10","2-9","2-8","2-7","2-6","2-5","2-4","2-3","2-2","2-1","1-16","1-15","1-14","1-13","1-12","1-11","1-10","1-9","1-8","1-7","1-6","1-5","1-4","1-3","1-2","1-1"]]},"2USTORNADO":{"2U":[["2-16","2-15","2-14","2-13","2-12","2-11","2-10","2-9","2-8","2-7","2-6","2-5","2-4","2-3","2-2","2-1","1-16","1-15","1-14","1-13","1-12","1-11","1-10","1-9","1-8","1-7","1-6","1-5","1-4","1-3","1-2","1-1"]]},"AV15-BASE":{AV15:[["1-15","1-14","1-13","1-12","1-11","1-10","1-9","1-8","1-7","1-6","1-5","1-4","1-3","1-2","1-1"]]}};class L{constructor(s,a,l,y,m,I,K,De,Ie,Oe,Ee){this.row_type=s,this.y_offset=a,this.row_index=l,this.label_values=ve[y][m][l],this.json_values=I,this.occupied=[],this.drive_img_arr=[],this.lsdev_values=K,this.alias_style=y,this.x0=De,this.y0=Ie,this.w=Oe,this.h=Ee;let c=null;for(let r=0;r<I.length&&r<K.length;r++)this.occupied.push(K[r].occupied),c=null,this.json_values[r].HDD?this.occupied[r]&&(this.lsdev_values[r]["rotation-rate"]!=0?/ST18000|ST16000|ST20000|ST14000|ST12000/.test(this.lsdev_values[r]["model-name"])?c=x:/Seagate Enterprise/.test(this.lsdev_values[r]["model-family"])?c=N:/TOSHIBA/.test(this.lsdev_values[r]["model-name"])?c=j:c=P:/Seagate Nytro/.test(this.lsdev_values[r]["model-family"])?c=X:/SEAGATE XS400LE10003/.test(this.lsdev_values[r]["model-name"])?c=V:/Micron_5100_|Mircon_5200_/.test(this.lsdev_values[r]["model-name"])?c=F:/Micron_5300_/.test(this.lsdev_values[r]["model-name"])?c=U:c=Y):this.json_values[r].SSD&&y=="2USTORNADO"?this.occupied[r]&&(/Seagate Nytro/.test(this.lsdev_values[r]["model-family"])?c=G:/SEAGATE XS400LE10003/.test(this.lsdev_values[r]["model-name"])?c=$:/Micron_5100_|Micron_5200_/.test(this.lsdev_values[r]["model-name"])?c=J:/Micron_5300_/.test(this.lsdev_values[r]["model-name"])?c=te:c=q):this.json_values[r].SSD?this.occupied[r]&&(/SEAGATE XS400LE10003/.test(this.lsdev_values[r]["model-name"])?c=M:/Seagate Nytro/.test(this.lsdev_values[r]["model-family"])?c=B:/Micron_5100_|Micron_5200_/.test(this.lsdev_values[r]["model-name"])?c=T:/Micron_5300_/.test(this.lsdev_values[r]["model-name"])?c=ee:c=W):this.json_values[r].CADDY&&(c=se),this.drive_img_arr.push(c)}show(){for(let s=0;s<this.json_values.length;s++){if(this.json_values[s].HDD){e.push(),e.fill(255);try{e.textFont(u,11)}catch{}try{e.textAlign(e.CENTER)}catch{}e.text(this.label_values[s],this.json_values[s].x+16,this.json_values[s].y+this.y_offset-10),e.pop()}else if(this.json_values[s].SSD&&this.alias_style!="2USTORNADO"){e.push(),e.fill(255);try{e.textFont(u,11)}catch{}e.translate(this.json_values[s].x,this.json_values[s].y+this.y_offset),e.rotate(e.radians(90)),this.row_type==1?e.text(this.label_values[s],-45,-1):e.text(this.label_values[s],-38,-1),e.pop()}this.occupied[s]&&this.drive_img_arr[s]!=null&&e.image(this.drive_img_arr[s],this.json_values[s].x,this.json_values[s].y+this.y_offset)}}async updateDiskInfo(s){document.getElementById("disk_fields").classList.remove("hidden"),document.getElementById("disk_fields_loading_content").classList.add("hidden"),document.getElementById("zfs_fields_loading_content").classList.add("hidden"),document.getElementById("bay-id").innerHTML=this.lsdev_values[s]["bay-id"]!=""?this.lsdev_values[s]["bay-id"]:"(unavailable)",document.getElementById("dev").innerHTML=this.lsdev_values[s].dev!=""?this.lsdev_values[s].dev:"(unavailable)",document.getElementById("capacity").innerHTML=this.lsdev_values[s].capacity!=""?this.lsdev_values[s].capacity:"(unavailable)",document.getElementById("partitions").innerHTML=this.lsdev_values[s].partitions!=""?this.lsdev_values[s].partitions:"None",document.getElementById("health").innerHTML=this.lsdev_values[s].health!=""?this.lsdev_values[s].health:"(unavailable)",document.getElementById("temp-c").innerHTML=this.lsdev_values[s]["temp-c"]!="?"&&this.lsdev_values[s]["temp-c"]!=""?this.lsdev_values[s]["temp-c"]:"(unavailable)",document.getElementById("power-on-time").innerHTML=this.lsdev_values[s]["power-on-time"]!=""?this.lsdev_values[s]["power-on-time"]:"(unavailable)",document.getElementById("model-family").innerHTML=this.lsdev_values[s]["model-family"]!="?"?this.lsdev_values[s]["model-family"]:"(unavailable)",document.getElementById("model-name").innerHTML=this.lsdev_values[s]["model-name"]!=""?this.lsdev_values[s]["model-name"]:"(unavailable)",document.getElementById("serial").innerHTML=this.lsdev_values[s].serial!=""?this.lsdev_values[s].serial:"(unavailable)",document.getElementById("firm-ver").innerHTML=this.lsdev_values[s]["firm-ver"]!="?"&&this.lsdev_values[s]["firm-ver"]!=""?this.lsdev_values[s]["firm-ver"]:"(unavailable)",document.getElementById("rotation-rate").innerHTML=this.lsdev_values[s]["rotation-rate"],document.getElementById("start-stop-count").innerHTML=this.lsdev_values[s]["start-stop-count"]!="?"&&this.lsdev_values[s]["start-stop-count"]!=""?this.lsdev_values[s]["start-stop-count"]:"(unavailable)",document.getElementById("power-cycle-count").innerHTML=this.lsdev_values[s]["power-cycle-count"]!="?"&&this.lsdev_values[s]["power-cycle-count"]!=""?this.lsdev_values[s]["power-cycle-count"]:"(unavailable)",document.getElementById("current-pending-sector").innerHTML=this.lsdev_values[s]["current-pending-sector"]!="?"&&this.lsdev_values[s]["current-pending-sector"]!=""?this.lsdev_values[s]["current-pending-sector"]:"(unavailable)",document.getElementById("offline-uncorrectable").innerHTML=this.lsdev_values[s]["offline-uncorrectable"]!="?"&&this.lsdev_values[s]["offline-uncorrectable"]!=""?this.lsdev_values[s]["offline-uncorrectable"]:"(unavailable)";var a=document.getElementById("health");if(a.innerHTML=="OK"?a.style.color="#19911d":a.innerHTML=="POOR"?a.style.color="#e39500":a.style.color="",f.zfs_installed&&f.hasOwnProperty("zfs_disks"))if(f.zfs_disks.hasOwnProperty(this.lsdev_values[s]["bay-id"])){document.getElementById("zfs-data").classList.remove("hidden"),document.getElementById("zfs_fields_loading_content").classList.add("hidden"),document.getElementById("zpool_name").innerHTML=f.zfs_disks[this.lsdev_values[s]["bay-id"]].zpool_name,document.getElementById("zpool_used").innerHTML=f.zfs_disks[this.lsdev_values[s]["bay-id"]].zpool_used,document.getElementById("zpool_avail").innerHTML=f.zfs_disks[this.lsdev_values[s]["bay-id"]].zpool_avail,document.getElementById("zpool_mountpoint").innerHTML=f.zfs_disks[this.lsdev_values[s]["bay-id"]].zpool_mountpoint,document.getElementById("zpool_state").innerHTML=f.zfs_disks[this.lsdev_values[s]["bay-id"]].zpool_state,document.getElementById("vdev_raid_level").innerHTML=f.zfs_disks[this.lsdev_values[s]["bay-id"]].vdev_raid_level,document.getElementById("read_ops").innerHTML=f.zfs_disks[this.lsdev_values[s]["bay-id"]].read_ops,document.getElementById("write_ops").innerHTML=f.zfs_disks[this.lsdev_values[s]["bay-id"]].write_ops,document.getElementById("read_bw").innerHTML=f.zfs_disks[this.lsdev_values[s]["bay-id"]].read_bw,document.getElementById("write_bw").innerHTML=f.zfs_disks[this.lsdev_values[s]["bay-id"]].write_bw;let l=document.getElementById("zpool_state");l.innerHTML=="ONLINE"?l.style.color="#19911d":l.style.color="#e39500"}else{let l=document.getElementById("zfs_fields_loading_content");l.innerHTML="Selected Disk ("+this.lsdev_values[s]["bay-id"]+") is not a member of a zfs pool",l.classList.remove("hidden"),document.getElementById("zfs-data").classList.add("hidden")}}}e.preload=function(){n=e.loadImage("img/disk/CHASSIS.png"),h=e.loadImage("img/disk/ROW_HDD.png"),S=e.loadImage("img/disk/ROW_SSD.png"),k=e.loadImage("img/disk/ROW_H16.png"),b=e.loadImage("img/disk/FRONT_PLATE.png"),c8_chassis_img=e.loadImage("img/disk/C8_CHASSIS.png"),mi4_chassis_img=e.loadImage("img/disk/MI4_CHASSIS.png"),stornado_2u_img=e.loadImage("img/disk/2U_STORNADO_CHASSIS.png"),T=e.loadImage("img/disk/SSD_micron.png"),ee=e.loadImage("img/disk/SSD_micron_5300.png"),B=e.loadImage("img/disk/SSD_seagate.png"),M=e.loadImage("img/disk/SSD_seagate_sas.png"),W=e.loadImage("img/disk/SSD_generic.png"),J=e.loadImage("img/disk/SSD_micron_2u.png"),te=e.loadImage("img/disk/SSD_micron_5300_2u.png"),G=e.loadImage("img/disk/SSD_seagate_2u.png"),q=e.loadImage("img/disk/SSD_generic_2u.png"),$=e.loadImage("img/disk/SSD_seagate_sas_2u.png"),N=e.loadImage("img/disk/HDD_seagate.png"),x=e.loadImage("img/disk/HDD_seagate_ST.png"),j=e.loadImage("img/disk/HDD_toshiba.png"),P=e.loadImage("img/disk/HDD_generic.png"),F=e.loadImage("img/disk/CADDY_micron.png"),U=e.loadImage("img/disk/CADDY_micron_5300.png"),X=e.loadImage("img/disk/CADDY_seagate.png"),V=e.loadImage("img/disk/CADDY_seagate_sas.png"),Y=e.loadImage("img/disk/CADDY_generic.png"),se=e.loadImage("img/disk/CADDY_c8_mi4.png"),u=e.loadFont("fonts/RobotoMono-Regular.ttf"),me(),ce(),ye(),e.jsonLoadRowPositions()};function de(i){return new Promise(s=>setTimeout(s,i))}function ce(){var i=cockpit.spawn(["/opt/45drives/tools/lsdev","-j"],{err:"out",superuser:"require"});i.done(function(s){d=JSON.parse(s),d.rows.reverse();for(let y=0;y<d.rows.length;y++)d.rows[y].reverse();let a=document.getElementById("controller"),l=document.getElementById("driver-vers");a&&l&&(a.innerHTML=d.meta["disk-controller"],l.innerHTML=d.meta["driver-version"]),console.log("JSON_LSDEV"),console.log(d)}),i.fail(function(s,a){let l=document.getElementById("disk_info_box");if(l&&l.classList.add("hidden"),confirm(`Disks requires a valid drive map.
 Would you like to run dmap?`)){var y=cockpit.spawn(["/opt/45drives/tools/dmap"],{err:"out",superuser:"require"});y.done(function(m){alert("dmap completed successfully."),z=!1;let I=document.getElementById("disk_info_box");I&&I.classList.remove("hidden"),t=null,ce(),me()}),y.fail(function(m,I){alert(`ERROR: dmap failed!
`+I),z=!0,Q="ERROR: dmap was unsuccessful."})}else z=!0,Q=`Error Running lsdev: 

lsdev message: `+a})}function me(){var i=cockpit.spawn(["/usr/share/cockpit/45drives-disks/helper_scripts/server_info"],{err:"out",superuser:"require"});i.stream(function(s){t=JSON.parse(s),console.log("JSON_SERVER_INFO"),console.log(t),t.hasOwnProperty("error_msg")&&(alert("Error: "+t.error_msg),t=null)})}function ye(){var i=cockpit.spawn(["/usr/share/cockpit/45drives-disks/helper_scripts/zfs_info"],{err:"out",superuser:"require"});i.done(function(s){f=JSON.parse(s),f.hasOwnProperty("zfs_installed")&&f.zfs_installed&&document.getElementById("zfs-info-window").classList.remove("hidden"),console.log("JSON_ZFS"),console.log(f)})}e.jsonLoadRowPositions=function(){var i=cockpit.spawn(["/usr/share/cockpit/45drives-disks/helper_scripts/dump_json","/img/disk/ROW.json"],{err:"out",superuser:"require"});i.done(function(s){console.log("DEBUG: ",s),D=JSON.parse(s),console.log("JSON_ROW"),console.log(D)})};function Se(){return n&&h&&S&&k&&b&&T&&B&&M&&W&&N&&x&&j&&P&&F&&U&&X&&V&&Y&&c8_chassis_img&&mi4_chassis_img&&stornado_2u_img&&$&&G&&J&&q}function we(){return t&&D&&d&&f}function ke(){{let i=document.getElementById("disk_info_box");i&&i.classList.add("hidden")}e.push(),e.stroke(200,30,30),e.fill(200,30,30);try{e.textAlign(e.LEFT),e.textFont(u),e.textSize(14),e.text(Q,50,50)}catch{}e.pop()}e.setup=async function(){for(g=e.createCanvas(570,900),g.mousePressed(e.mouseWasClicked),e.frameRate(30);!Se();)await de(300);for(p.push(h),p.push(S),p.push(k),p.push(c8_chassis_img),p.push(mi4_chassis_img),p.push(stornado_2u_img);!we();)await de(300);if(t.hasOwnProperty("Alias Style")&&t.hasOwnProperty("Chassis Size"))if(t["Chassis Size"]!="MI4"&&t["Chassis Size"]!="C8"&&t["Chassis Size"]!="2U"){v.push(n);for(let i=0;i<_[t["Alias Style"]][t["Chassis Size"]].length;i++){let s=0;for(let a=0;a<v.length;a++)s+=v[a].height;v.push(p[_[t["Alias Style"]][t["Chassis Size"]][i]]),console.log(v.length),console.log(o),o.push(new L(_[t["Alias Style"]][t["Chassis Size"]][i],s,i,t["Alias Style"],t["Chassis Size"],D[A[_[t["Alias Style"]][t["Chassis Size"]][i]]],d.rows[i],0,s,p[_[t["Alias Style"]][t["Chassis Size"]][i]].width,p[_[t["Alias Style"]][t["Chassis Size"]][i]].height))}v.push(b)}else if(t["Chassis Size"]=="C8"){e.resizeCanvas(c8_chassis_img.width,c8_chassis_img.height);let i=document.getElementById("disk_output");i.style.flexDirection="column",document.getElementById("disk_info_box"),disk_info_box.style.display="flex",disk_info_box.style.width="1141px";let s=document.getElementById("disk-info-window");s.style.flexGrow=1;let a=document.getElementById("zfs-info-window");a.style.flexGrow=1,a.style.marginBottom="inherit",d.rows.reverse();for(let m=0;m<d.rows.length;m++)d.rows[m].reverse();let l=d.rows.pop(),y=l.length;for(let m=0;m<y;m++)d.rows[0].push(l.shift());for(let m=0;m<_[t["Alias Style"]][t["Chassis Size"]].length;m++)v.push(p[_[t["Alias Style"]][t["Chassis Size"]][m]]),console.log(v.length),console.log(o),o.push(new L(_[t["Alias Style"]][t["Chassis Size"]][m],0,m,t["Alias Style"],t["Chassis Size"],D[A[_[t["Alias Style"]][t["Chassis Size"]][m]]],d.rows[m],0,0,p[_[t["Alias Style"]][t["Chassis Size"]][m]].width,p[_[t["Alias Style"]][t["Chassis Size"]][m]].height));H=!0}else if(t["Chassis Size"]=="MI4"){e.resizeCanvas(mi4_chassis_img.width,mi4_chassis_img.height);let i=document.getElementById("disk_output");i.style.flexDirection="column",document.getElementById("disk_info_box"),disk_info_box.style.display="flex",disk_info_box.style.width="1141px";let s=document.getElementById("disk-info-window");s.style.flexGrow=1;let a=document.getElementById("zfs-info-window");a.style.flexGrow=1,a.style.marginBottom="inherit",d.rows.reverse();for(let l=0;l<d.rows.length;l++)d.rows[l].reverse();for(let l=0;l<_[t["Alias Style"]][t["Chassis Size"]].length;l++)v.push(p[_[t["Alias Style"]][t["Chassis Size"]][l]]),console.log(v.length),console.log(o),o.push(new L(_[t["Alias Style"]][t["Chassis Size"]][l],0,l,t["Alias Style"],t["Chassis Size"],D[A[_[t["Alias Style"]][t["Chassis Size"]][l]]],d.rows[l],0,0,p[_[t["Alias Style"]][t["Chassis Size"]][l]].width,p[_[t["Alias Style"]][t["Chassis Size"]][l]].height));H=!0}else if(t["Chassis Size"]=="2U"){e.resizeCanvas(stornado_2u_img.width,stornado_2u_img.height);let i=document.getElementById("disk_output");i.style.flexDirection="column",document.getElementById("disk_info_box"),disk_info_box.style.display="flex",disk_info_box.style.width="1178px";let s=document.getElementById("disk-info-window");s.style.flexGrow=1;let a=document.getElementById("zfs-info-window");a.style.flexGrow=1,a.style.marginBottom="inherit",d.rows.reverse();for(let l=0;l<d.rows.length;l++)d.rows[l].reverse();for(let l=0;l<_[t["Alias Style"]][t["Chassis Size"]].length;l++)v.push(p[_[t["Alias Style"]][t["Chassis Size"]][l]]),console.log(v.length),console.log(o),o.push(new L(_[t["Alias Style"]][t["Chassis Size"]][l],0,l,t["Alias Style"],t["Chassis Size"],D[A[_[t["Alias Style"]][t["Chassis Size"]][l]]],d.rows[l],0,0,p[_[t["Alias Style"]][t["Chassis Size"]][l]].width,p[_[t["Alias Style"]][t["Chassis Size"]][l]].height));H=!0}else alert(`Unrecognized hardware configuration detected. 
Disks module needs recognizable 45drives hardware to operate properly`),z=!0;else alert(`Unrecognized hardware configuration detected. 
Disks module needs recognizable 45drives hardware to operate properly`),z=!0},e.draw=function(){if(e.background(255),re){let i=0;for(let s=0;s<v.length;s++)e.image(v[s],0,i),i+=v[s].height-1;for(let s=0;s<o.length;s++)o[s].show()}else if(v.length>2||H)re=!0,document.getElementById("disk_fields_loading_content").innerHTML="Click on a disk to display more information.",document.getElementById("zfs_fields_loading_content").innerHTML="Click on a disk to display more information.";else if(z)ke();else{e.push(),_e+=.1,e.translate(e.width/2,e.height/4);try{e.textAlign(e.CENTER),e.textFont(u),e.textSize(16),e.text("Loading Please Wait",0,-100)}catch{}e.rotate(_e),e.noStroke(),e.fill("#f3f3f3"),e.circle(0,0,100),e.fill("#981C20"),e.arc(0,0,100,100,0,e.HALF_PI),e.fill(255),e.circle(0,0,93),e.pop()}ae&&(e.push(),e.fill(255,255,255,50),e.stroke(206,242,212),e.strokeWeight(2),e.rect(ie,le,oe,ne),e.pop())},e.mouseWasClicked=function(){for(let i=0;i<o.length;i++)if(e.mouseX>o[i].x0&&e.mouseX<o[i].x0+o[i].w&&e.mouseY>o[i].y0&&e.mouseY<o[i].y0+o[i].h){for(let s=0;s<o[i].occupied.length;s++)if(o[i].occupied[s]==!0&&o[i].drive_img_arr[s]!=null&&e.mouseX>o[i].x0+o[i].json_values[s].x&&e.mouseX<o[i].x0+o[i].json_values[s].x+o[i].drive_img_arr[s].width&&e.mouseY>o[i].y0+o[i].json_values[s].y&&e.mouseY<o[i].y0+o[i].json_values[s].y+o[i].drive_img_arr[s].height){o[i].updateDiskInfo(s),ie=o[i].x0+o[i].json_values[s].x,le=o[i].y0+o[i].json_values[s].y,oe=o[i].drive_img_arr[s].width,ne=o[i].drive_img_arr[s].height,ae=!0;break}break}return!1}};let g,u;new Ae(w)}},Xe={id:"p5-canvas",class:"mt-2 mx-auto"};function Ve(w,g,u,e,n,h){return O(),R("div",Xe)}var Ye=Z(Ue,[["render",Ve]]);const $e={name:"App",components:{P5Canvas:Ye,FfdHeader:Fe}},Ge={id:"App"},Je={class:"h-full flex flex-col overflow-hidden"};function qe(w,g,u,e,n,h){const S=C("FfdHeader"),k=C("P5Canvas");return O(),R("div",Ge,[E("div",Je,[pe(S,{moduleName:"Disks",centerName:""}),pe(k)])])}var Qe=Z($e,[["render",qe]]);Le(Qe).mount("#app");
